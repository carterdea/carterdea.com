@import "tailwindcss";

@theme {
  --font-sans:
    "UniversPro55Roman", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial,
    sans-serif;
}

@font-face {
  font-family: "UniversPro55Roman";
  src:
    url("/assets/fonts/font.woff2") format("woff2"),
    url("/assets/fonts/font.woff") format("woff");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* Site modes */
body.mode-vacation {
  background-image: url("/assets/images/santa-monica-north.jpg");
  background-size: cover;
  background-position: center;
}

body.mode-vacation .text-white\/60 {
  color: rgb(255 255 255);
}

body.mode-vacation .bg-white\/5 {
  background-color: rgb(255 255 255 / 0.2);
}

body.mode-vacation .bg-white\/10 {
  background-color: rgb(255 255 255 / 0.35);
}

/* Money mode */
body.mode-money .hero-content,
body.mode-money .logo-marquee {
  opacity: 0.25;
  transition: opacity 300ms var(--ease-out-expo);
}

.money-chart-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  padding-top: 5rem; /* pt-20 */
  z-index: 10;
}

@media (min-width: 768px) {
  .money-chart-overlay {
    padding-top: 7.5rem; /* md:pt-30 */
  }
}

.money-header {
  position: absolute;
  top: 0;
  left: 40px;
  z-index: 11;
  pointer-events: none;
  user-select: none;
}

.money-title {
  font-family:
    "UniversPro55Roman", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  font-size: 1rem;
  font-weight: 400;
  color: white;
  margin: 0;
}

.money-price {
  font-family:
    "UniversPro55Roman", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  font-size: 1.5rem;
  font-weight: 400;
  color: rgba(255, 255, 255, 0.9);
  margin: 0.25rem 0 0 0;
  font-variant-numeric: tabular-nums;
  display: flex;
  align-items: baseline;
}

/* Odometer styles */
.odometer.odometer-auto-theme {
  display: inline-block;
  vertical-align: middle;
  position: relative;
  font-family:
    "UniversPro55Roman", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  font-size: 1.5rem;
  font-weight: 400;
  line-height: 1.2;
}

.odometer.odometer-auto-theme .odometer-digit {
  display: inline-block;
  vertical-align: middle;
  position: relative;
}

.odometer.odometer-auto-theme .odometer-digit .odometer-digit-spacer {
  display: inline-block;
  vertical-align: middle;
  visibility: hidden;
}

.odometer.odometer-auto-theme .odometer-digit .odometer-digit-inner {
  text-align: left;
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
}

.odometer.odometer-auto-theme .odometer-digit .odometer-ribbon {
  display: block;
}

.odometer.odometer-auto-theme .odometer-digit .odometer-ribbon-inner {
  display: block;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

.odometer.odometer-auto-theme .odometer-digit .odometer-value {
  display: block;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
}

.odometer.odometer-auto-theme .odometer-digit .odometer-value.odometer-last-value {
  position: absolute;
}

.odometer.odometer-auto-theme.odometer-animating-up .odometer-ribbon-inner {
  transition: transform 600ms ease-out;
}

.odometer.odometer-auto-theme.odometer-animating-up.odometer-animating .odometer-ribbon-inner {
  transform: translateY(-100%);
}

.odometer.odometer-auto-theme.odometer-animating-down .odometer-ribbon-inner {
  transform: translateY(-100%);
}

.odometer.odometer-auto-theme.odometer-animating-down.odometer-animating .odometer-ribbon-inner {
  transition: transform 600ms ease-out;
  transform: translateY(0);
}

.money-reset-button {
  position: absolute;
  top: 0;
  right: 40px;
  z-index: 30;
}

/* Fixed background only on desktop - mobile doesn't support it well and it breaks backdrop-filter */
@media (min-width: 768px) {
  body.mode-vacation {
    background-attachment: fixed;
  }
}

/* Animation easing - smooth deceleration curve */
:root {
  --ease-out-expo: cubic-bezier(0.22, 0.61, 0.36, 1);
}

/* Fade in animation (for header elements) */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: scale(0.97);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Fade in with upward movement (for content) */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  opacity: 0;
  animation: fade-in 400ms var(--ease-out-expo) forwards;
  animation-delay: var(--delay, 0ms);
}

.animate-fade-in-up {
  opacity: 0;
  animation: fade-in-up 500ms var(--ease-out-expo) forwards;
  animation-delay: var(--delay, 0ms);
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .animate-fade-in,
  .animate-fade-in-up {
    animation: none;
    opacity: 1;
    transform: none;
  }
}

/* Ensure inspector overlays don't capture pointer events */
[data-inspector-overlay] {
  pointer-events: none;
}

/* Fire mode */
body.mode-fire {
  background-color: #0a0605;
}

body.mode-fire h1,
body.mode-fire h2,
body.mode-fire h3 {
  text-shadow:
    0 0 2px rgba(255, 200, 100, calc(var(--fire-glow-intensity, 0.4) * 0.8)),
    0 0 8px rgba(255, 120, 40, var(--fire-glow-intensity, 0.4)),
    0 0 20px rgba(255, 80, 20, calc(var(--fire-glow-intensity, 0.4) * 0.7)),
    0 0 40px rgba(255, 40, 0, calc(var(--fire-glow-intensity, 0.4) * 0.4));
  transition: text-shadow 0.15s ease-out;
}

body.mode-fire .ember-text {
  background-image: var(--ember-gradient);
  background-size: 100% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
  text-shadow: none !important;
  mix-blend-mode: normal;
  isolation: isolate;
  will-change: background-image;
}

body.mode-fire p,
body.mode-fire a,
body.mode-fire span,
body.mode-fire li {
  text-shadow:
    0 0 1px rgba(255, 180, 80, calc(var(--fire-glow-intensity, 0.4) * 0.6)),
    0 0 4px rgba(255, 100, 30, calc(var(--fire-glow-intensity, 0.4) * 0.5)),
    0 0 12px rgba(255, 60, 10, calc(var(--fire-glow-intensity, 0.4) * 0.3));
  transition: text-shadow 0.15s ease-out;
}

body.mode-fire .singed-1 {
  filter: brightness(0.95);
  transition:
    filter 0.3s ease-out,
    box-shadow 0.3s ease-out;
}

body.mode-fire .singed-2 {
  filter: brightness(0.9);
  box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.3);
  transition:
    filter 0.3s ease-out,
    box-shadow 0.3s ease-out;
}

body.mode-fire .singed-3 {
  filter: brightness(0.85);
  box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.5);
  transition:
    filter 0.3s ease-out,
    box-shadow 0.3s ease-out;
}

/* Fire shimmer effect - static gradient with organic filter breathing
   Ash positions fixed. Long animation with irregular keyframes for organic feel. */
body.mode-fire h1.fire-shimmer-heading,
body.mode-fire h2.fire-shimmer-heading,
body.mode-fire h3.fire-shimmer-heading {
  background: linear-gradient(
    90deg,
    #8b2200 0%,
    #993300 5%,
    /* Hot spot 1 */
    #cc5500 10%,
    #ff8833 14%,
    #ffbb55 17%,
    #ffdd77 18%,
    #ffbb55 19%,
    #ff7722 22%,
    #bb4400 26%,
    /* Ash 1 - static grey */
    #666 30%,
    #555 32%,
    #666 34%,
    /* Hot spot 2 */
    #bb4400 38%,
    #ee6600 42%,
    #ffaa44 45%,
    #ffcc66 46%,
    #ffaa44 47%,
    #dd5500 50%,
    #aa3800 54%,
    /* Hot spot 3 */
    #cc5500 58%,
    #ff8833 62%,
    #ffbb55 65%,
    #ffe088 66%,
    #ffbb55 67%,
    #ff7722 70%,
    #bb4400 74%,
    /* Ash 2 - static grey */
    #555 78%,
    #666 80%,
    #555 82%,
    /* Hot spot 4 */
    #aa3800 86%,
    #dd5500 90%,
    #ff9933 94%,
    #dd5500 97%,
    #993300 100%
  );
  background-size: 100% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
  display: inline-block;
  text-shadow: none !important;
  animation: ember-breathe 8s ease-in-out infinite;
}

/* Single animation with many irregular keyframes for organic feel */
@keyframes ember-breathe {
  0% {
    filter: brightness(0.92) saturate(1.1) hue-rotate(0deg);
  }
  7% {
    filter: brightness(1.1) saturate(1.25) hue-rotate(-5deg);
  }
  13% {
    filter: brightness(0.95) saturate(1.15) hue-rotate(3deg);
  }
  21% {
    filter: brightness(1.15) saturate(1.3) hue-rotate(-8deg);
  }
  28% {
    filter: brightness(0.88) saturate(1.05) hue-rotate(5deg);
  }
  36% {
    filter: brightness(1.08) saturate(1.2) hue-rotate(-3deg);
  }
  42% {
    filter: brightness(0.9) saturate(1.12) hue-rotate(6deg);
  }
  51% {
    filter: brightness(1.12) saturate(1.28) hue-rotate(-6deg);
  }
  58% {
    filter: brightness(0.93) saturate(1.1) hue-rotate(4deg);
  }
  67% {
    filter: brightness(1.05) saturate(1.22) hue-rotate(-4deg);
  }
  74% {
    filter: brightness(0.87) saturate(1.08) hue-rotate(7deg);
  }
  82% {
    filter: brightness(1.1) saturate(1.25) hue-rotate(-7deg);
  }
  91% {
    filter: brightness(0.95) saturate(1.15) hue-rotate(2deg);
  }
  100% {
    filter: brightness(0.92) saturate(1.1) hue-rotate(0deg);
  }
}

/* Combine fade-in animations with ember effects */
body.mode-fire h1.fire-shimmer-heading.animate-fade-in,
body.mode-fire h2.fire-shimmer-heading.animate-fade-in,
body.mode-fire h3.fire-shimmer-heading.animate-fade-in {
  animation-name: fade-in, ember-breathe;
  animation-duration: 400ms, 8s;
  animation-timing-function: var(--ease-out-expo), ease-in-out;
  animation-delay: var(--delay, 0ms), 0ms;
  animation-iteration-count: 1, infinite;
  animation-fill-mode: forwards, none;
}

body.mode-fire h1.fire-shimmer-heading.animate-fade-in-up,
body.mode-fire h2.fire-shimmer-heading.animate-fade-in-up,
body.mode-fire h3.fire-shimmer-heading.animate-fade-in-up {
  animation-name: fade-in-up, ember-breathe;
  animation-duration: 500ms, 8s;
  animation-timing-function: var(--ease-out-expo), ease-in-out;
  animation-delay: var(--delay, 0ms), 0ms;
  animation-iteration-count: 1, infinite;
  animation-fill-mode: forwards, none;
}
