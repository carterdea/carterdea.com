---
import { MorphingOrbGL } from './MorphingOrbGL';

const currentYear = new Date().getFullYear();
---

<footer transition:persist class="flex items-center justify-between px-4 py-6 md:px-8">
  <p class="animate-fade-in text-xs text-white/60" style="--delay: 340ms;">Â© 2013-<span id="current-year">{currentYear}</span> carterdea.com</p>

  <button
    id="bg-toggle"
    type="button"
    class="animate-fade-in active:scale-[0.95] transition-all duration-150"
    style="--delay: 380ms;"
    aria-label="Toggle background"
    title="Toggle background"
  >
    <MorphingOrbGL
      client:visible
      size={32}
      variant="mono"
    />
  </button>
</footer>

<script>
  // Update copyright year client-side to always be current
  const yearSpan = document.getElementById('current-year');
  if (yearSpan) {
    yearSpan.textContent = String(new Date().getFullYear());
  }

  const bgToggle = document.getElementById('bg-toggle');
  const body = document.body;

  bgToggle?.addEventListener('click', () => {
    body.classList.toggle('bg-image');
  });
</script>
