---
import AnimationToggle from '../components/AnimationToggle.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import Layout from '../layouts/Layout.astro';
import { MorphingOrbGL } from '../components/MorphingOrbGL';
---

<Layout title="Animation â€” Carterdea">
  <div class="min-h-screen flex flex-col">
    <Header actionHref="/" actionLabel="Back" />

    <main transition:name="page-content" class="flex-1 flex flex-col px-4 md:px-8 py-12">
      <div class="max-w-6xl mx-auto w-full">
        <h1 class="text-3xl md:text-4xl font-medium mb-4">Morphing Orb (WebGL)</h1>
        <p class="text-white/60 mb-8 max-w-2xl">
          Three.js particle animation with real 3D rendering.
          Spherical dots with proper lighting and depth.
          Hover to speed up.
        </p>

        <AnimationToggle active="webgl" />

        <!-- Large version -->
        <section class="mb-16">
          <h2 class="text-xl font-medium mb-2">Large (500px)</h2>
          <p class="text-white/50 text-sm mb-6">Full detail with 3D lighting</p>

          <div class="flex flex-wrap gap-8">
            <div>
              <p class="text-white/40 text-xs mb-3 uppercase tracking-wider">Monochrome</p>
              <MorphingOrbGL
                client:visible
                size={500}
                variant="mono"
                color="#ffffff"
              />
            </div>
            <div>
              <p class="text-white/40 text-xs mb-3 uppercase tracking-wider">Color</p>
              <MorphingOrbGL
                client:visible
                size={500}
                variant="color"
              />
            </div>
          </div>
        </section>

        <!-- Size variants -->
        <section class="mb-16">
          <h2 class="text-xl font-medium mb-2">Size Variants</h2>
          <p class="text-white/50 text-sm mb-6">Responsive sizing from 200px to 64px</p>

          <div class="flex flex-wrap gap-8 items-end">
            <div>
              <p class="text-white/40 text-xs mb-3 uppercase tracking-wider">Medium (200px)</p>
              <MorphingOrbGL
                client:visible
                size={200}
                variant="color"
                palette={['#a855f7', '#ec4899', '#f43f5e']}
              />
            </div>
            <div>
              <p class="text-white/40 text-xs mb-3 uppercase tracking-wider">Small (64px)</p>
              <MorphingOrbGL
                client:visible
                size={64}
                variant="mono"
                color="#ffffff"
              />
            </div>
          </div>
        </section>

        <!-- Color Modes -->
        <section class="mb-16">
          <h2 class="text-xl font-medium mb-2">Color Modes</h2>
          <p class="text-white/50 text-sm mb-6">Different strategies for assigning colors to dots</p>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
              <p class="text-white/40 text-xs mb-3 uppercase tracking-wider">Sequential</p>
              <p class="text-white/30 text-xs mb-4">Colors follow dot creation order</p>
              <MorphingOrbGL
                client:visible
                size={200}
                variant="color"
                colorMode="sequential"
              />
            </div>
            <div>
              <p class="text-white/40 text-xs mb-3 uppercase tracking-wider">Spatial</p>
              <p class="text-white/30 text-xs mb-4">Colors based on 3D position</p>
              <MorphingOrbGL
                client:visible
                size={200}
                variant="color"
                colorMode="spatial"
              />
            </div>
            <div>
              <p class="text-white/40 text-xs mb-3 uppercase tracking-wider">Shuffled</p>
              <p class="text-white/30 text-xs mb-4">Palette shuffled for contrast</p>
              <MorphingOrbGL
                client:visible
                size={200}
                variant="color"
                colorMode="shuffled"
              />
            </div>
          </div>
        </section>

        <!-- Note about WebGL contexts -->
        <section class="mb-16 p-4 bg-white/5 rounded-lg">
          <p class="text-white/50 text-sm">
            <strong class="text-white/70">Note:</strong> WebGL has a browser limit of ~8-16 simultaneous contexts.
            This page uses lazy loading to only initialize canvases when scrolled into view.
          </p>
        </section>

      </div>
    </main>

    <Footer />
  </div>
</Layout>
